<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />

<div class="min-vh-100 d-flex align-items-center justify-content-center bg-light" dir="rtl">
    <div class="bg-white rounded-4 shadow p-4" style="width: 100%; max-width: 400px">
        <h2 class="text-center fw-bold mb-4 text-primary" style="letter-spacing: 1.5px;">
            تسجيل الدخول
        </h2>
        <div class="mx-auto mb-4" style="width: 60px; height: 3px; background-color: #0d6efd; border-radius: 2px;">
        </div>

        <form #loginForm="ngForm" (ngSubmit)="Login(loginForm)">
            <div class="mb-4">
                <input type="text" required ngModel name="username" class="form-control py-2 fs-5" [class.is-invalid]="
        loginForm.controls['username']?.invalid &&
        (loginForm.controls['username']?.touched || loginForm.controls['username']?.dirty)
      " placeholder="اسم المستخدم" (input)="clearErrorMessage()" />

                @if (
                loginForm.controls['username']?.invalid &&
                (loginForm.controls['username']?.touched || loginForm.controls['username']?.dirty)
                ) {
                <div class="invalid-feedback d-block">اسم المستخدم مطلوب.</div>
                }
            </div>

            <div class="mb-4">
                <input type="password" required ngModel name="password" class="form-control py-2 fs-5"
                    [class.is-invalid]="
        loginForm.controls['password']?.invalid &&
        (loginForm.controls['password']?.touched || loginForm.controls['password']?.dirty)
      " placeholder="كلمة المرور" (input)="clearErrorMessage()" />

                @if (
                loginForm.controls['password']?.invalid &&
                (loginForm.controls['password']?.touched || loginForm.controls['password']?.dirty)
                ) {
                <div class="invalid-feedback d-block">كلمة المرور مطلوبة.</div>
                }
            </div>

            <div *ngIf="errorMessage" class="alert alert-danger alert-dismissible fade show" role="alert">
                {{ errorMessage }}
                <button type="button" class="btn-close" aria-label="Close" (click)="clearErrorMessage()"></button>
            </div>

            <div class="d-grid mt-4">
                <button type="submit" class="btn btn-primary btn-lg fw-bold shadow-sm" [disabled]="loginForm.invalid">
                    تسجيل الدخول
                </button>
            </div>
        </form>

        <p class="mt-4 text-center text-secondary fs-6">
            ليس لديك حساب؟
            <a [routerLink]="['/auth/register']" class="fw-semibold text-primary text-decoration-none">
                إنشاء حساب
            </a>
        </p>

        <div class="d-flex justify-content-center gap-3 mt-4">
            <button class="btn rounded-circle text-primary">
                <i class="fab fs-2 fa-facebook-f"></i>
            </button>
            <button class="btn rounded-circle px-2 fs-5 text-danger">
                <i class="fab fs-2 fa-google"></i>
            </button>
        </div>
    </div>
</div>